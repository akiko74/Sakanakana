<script type="text/javascript">
$(function(){
  var $container = $('.slideshow').cycle({
    speed: 300,
    autostop: 1,
    autostopCount: 1,
  });

  var obj= $('#thumbnail img');
  $container.children().each(function(i){
    $(obj[i]).css('cursor', 'pointer').click(function(){
      $container.cycle(i);
      return false;
    });
  });
});
</script>

<p id="notice"><%= notice %></p>

<p>
  <b>Point:</b>
  <%= @divesite.pointname %>
</p>

  <div class="slideshow">
   <td>
      <% @pictures.each do |picture| %>
          <% @detail_first = picture.details.first %>
          <%= link_to image_tag(picture.image.url(:medium)), detail_path(:id => @detail_first.id, :picture_id => picture.id)  %> 
      <% end %>
   </td>
  </div>
  <div id="thumbnail">
    <td>
      <% @pictures.each do |picture| %>
      <%= image_tag picture.image.url(:thumb) %> 
      <% end %>
    </td>
  </div>

  <% @details.each do |detail| %>
  <% @picture = detail.pictures.first %>
    <%#= link_to detail.name, picture_path(:id => @picture.id, :detail_id => detail.id) %>
    <%= link_to detail.name, detail_path(:id => detail.id) %>
  <% end %>

<%= link_to 'Edit', edit_divesite_path(@divesite) %>
<%= link_to 'Back', divesites_path %>
